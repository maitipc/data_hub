<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ferramentas - Hub de Dados</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #121212; color: #f1f1f1; padding-top: 70px; }
    .list-group-item { background-color: #1e1e1e; color: #f1f1f1; margin-bottom: 10px; border-radius: 8px; }
    a { color: #f1f1f1; text-decoration: none; }
    a:hover { text-decoration: underline; }
    h3 { color: #66ccff; margin-top: 30px; }
    footer { background-color: #1e1e1e; color: #aaa; padding: 20px 0; margin-top: 50px; }
    .accordion-button::after {
      content: "‚ñ∂"; /* seta lateral */
      font-size: 0.9rem;
      transform: rotate(0deg);
      transition: transform 0.3s ease-in-out;
      margin-left: auto; /* joga a seta para a direita */
      color: #66ccff;
    }
    .accordion-button:not(.collapsed)::after {
      transform: rotate(90deg); /* gira quando aberto */
    }
    /* Cor de fundo no item aberto */
    .accordion-button:not(.collapsed) {
      background-color: #1a2a33 !important;
      color: #66ccff !important;
      box-shadow: inset 0 -1px 0 rgba(0,0,0,.125);
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">üìä Hub de Dados</a>
    </div>
  </nav>

  <div class="container py-5">
    <h1 class="mb-4">üõ†Ô∏è Ferramentas</h1>
    <div id="links" class="list-group"></div>
    <a href="index.html" class="btn btn-outline-light mt-4">‚¨ÖÔ∏è Voltar</a>
  </div>

  <footer class="text-center">
    <div class="container">
      <p class="mb-0">&copy; 2025 Maiti Puertas Crucelli | Hub de Dados</p>
    </div>
  </footer>

  <script>
  fetch('resources.json')
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById('links');
    const categorias = data["Ferramentas"];

    for (const categoria in categorias) {

      // Se for Bibliotecas Python, renderiza como card √∫nico
      if(categoria === "Bibliotecas Python") {
        container.innerHTML += `<h3>${categoria}</h3>`;
        // card com lista de bibliotecas
        let cardHtml = `<div class="card bg-dark text-light mb-3"><div class="card-body"><ul class="list-unstyled mb-0">`;
        categorias[categoria].forEach(item => {
          cardHtml += `<li><strong>${item.title}:</strong> ${item.description}</li><br />`;
        });
        cardHtml += `</ul></div></div>`;
        container.innerHTML += cardHtml;
      } else {
        // t√≠tulo da categoria
        container.innerHTML += `<h3>${categoria}</h3>`;

        categorias[categoria].forEach((item, index) => {
          const accordionId = `${categoria.replace(/\s+/g, '')}-${index}`;
          const isFirst = index === 0; // abre s√≥ o primeiro item

          // monta listas de arrays
          const componentes = item.details?.principais_componentes
            ? `<ul>${item.details.principais_componentes.map(c => `<li>${c}</li>`).join("")}</ul>`
            : "";

          const paraQueServe = item.details?.para_que_serve
            ? `<ul>${item.details.para_que_serve.map(c => `<li>${c}</li>`).join("")}</ul>`
            : "";

          const quandoUsar = item.details?.quando_usar
            ? `<ul>${item.details.quando_usar.map(c => `<li>${c}</li>`).join("")}</ul>`
            : "";

          container.innerHTML += `
            <div class="accordion mb-3" id="accordion-${accordionId}">
              <div class="accordion-item bg-dark text-light border-0">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed bg-dark text-light fw-bold" 
                    type="button"
                    data-bs-toggle="collapse" 
                    data-bs-target="#collapse-${accordionId}">
                    ${item.title}
                  </button>
                </h2>
                <div id="collapse-${accordionId}" 
                     class="accordion-collapse collapse" 
                     data-bs-parent="#accordion-${accordionId}">
                  <div class="accordion-body">
                    <p><a href="${item.url}" target="_blank" class="text-info">üîó Documenta√ß√£o</a></p>
                    <p>${item.description || ""}</p>

                    ${item.details?.o_que_e ? `<h6>O que √©</h6><p>${item.details.o_que_e}</p>` : ""}
                    ${componentes ? `<h6>Principais Componentes</h6>${componentes}` : ""}
                    ${paraQueServe ? `<h6>Para que serve</h6>${paraQueServe}` : ""}
                    ${quandoUsar ? `<h6>Quando usar</h6>${quandoUsar}` : ""}
                  </div>
                </div>
              </div>
            </div>
          `;
        });
      }
    }
  });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
